<html>

<script>

const to = "sak18@mit.edu, markg@mit.edu, wespich@mit.edu"

const subjects = [
        "Stand Up for Palestinian Students",
        "Regarding the Recent Campus Events",
        "Concerned Alumnus"
    ];
const randomSubject = subjects[Math.floor(Math.random() * subjects.length)];

function capitalizeFirstLetter(word) {
    return word.charAt(0).toUpperCase() + word.slice(1);
}

function randomCapitalization(word) {
    const randomIndex = Math.floor(Math.random() * 3);
    switch (randomIndex) {
        case 0:
            return word.replace(/\b\w/g, char => char.toUpperCase()); // Capitalize each word's first letter
        case 1:
            return capitalizeFirstLetter(word); // Capitalize only the first letter of the first word
        default:
            return word.toLowerCase(); // Keep everything lowercase
    }
}

const formattedSubject = randomSubject.split(" ").map(randomCapitalization).join(" ");

const body = `
Dear Sally, Mark, and Whitney

I am an MIT alum and I am writing in support of the students at the encampment protest. I strongly urge the administration to continue to engage with the students on their divestment demands. 

I urge the administration against the use of police force, physical violence, or disciplinary punishment against the students.
`

function sendEmail() {    
    const encodedSubject = encodeURIComponent(formattedSubject);
    const encodedBody = encodeURIComponent(body);
    const mailtoLink = `mailto:${to}?subject=${encodedSubject}&body=${encodedBody}`;
    window.location.href = mailtoLink;
}
sendEmail();

</script>

</html>

